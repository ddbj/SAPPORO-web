(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{280:function(t,e,r){var content=r(291);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(80).default)("092cfb3e",content,!0,{sourceMap:!1})},281:function(t,e,r){"use strict";r.r(e);r(37);var n=r(2),o=r(0).a.extend({data:function(){return{menuItems:[{title:"Import Data",icon:"mdi-application-import"},{title:"Export Data",icon:"mdi-application-export"},{title:"Delete Data",icon:"mdi-trash-can"}],deleteDialogShow:!1}},methods:{menuAction:function(title){"Import Data"===title?alert("Import Data"):"Export Data"===title?alert("Export Data"):"Delete Data"===title&&(this.deleteDialogShow=!0)},deleteData:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("service/clearServices");case 2:return e.next=4,t.$store.dispatch("workflow/clearWorkflows");case 4:return e.next=6,t.$store.dispatch("run/clearRuns");case 6:t.deleteDialogShow=!1;case 7:case"end":return e.stop()}}),e)})))()}}}),l=(r(290),r(56)),c=r(271),d=r.n(c),m=r(485),v=r(367),f=r(340),h=r(486),x=r(347),_=r(348),C=r(329),k=r(275),w=r(330),y=r(368),I=r(475),S=r(310),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-app-bar",{attrs:{color:t.$colors.indigo.darken2,app:"",elevation:"8","hide-on-scroll":""}},[r("v-toolbar-title",[r("nuxt-link",{staticClass:"white--text text-decoration-none",attrs:{to:"/"}},[t._v("\n      SAPPORO\n    ")])],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[r("v-btn",t._g({staticClass:"mr-2",attrs:{icon:""}},n),[r("v-icon",{attrs:{color:"white"}},[t._v("mdi-cog")])],1)]}}])},[t._v(" "),r("v-list",{staticClass:"app-bar-height-margin"},t._l(t.menuItems,(function(e){return r("v-list-item",{key:e.title,on:{click:function(r){return t.menuAction(e.title)}}},[r("v-list-item-icon",{staticClass:"ml-2"},[r("v-icon",{domProps:{textContent:t._s(e.icon)}})],1),t._v(" "),r("v-list-item-content",{staticClass:"mr-2"},[r("v-list-item-title",{domProps:{textContent:t._s(e.title)}})],1)],1)})),1)],1),t._v(" "),r("v-btn",{attrs:{href:"https://github.com/ddbj/SAPPORO-web",color:"white",outlined:""}},[t._v("\n    GitHub\n    "),r("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[t._v(" mdi-github ")])],1),t._v(" "),r("v-dialog",{attrs:{"overlay-opacity":"0.8",width:"600"},model:{value:t.deleteDialogShow,callback:function(e){t.deleteDialogShow=e},expression:"deleteDialogShow"}},[r("v-card",[r("div",{staticClass:"card-header pl-6 pt-4",domProps:{textContent:t._s("Delete Data")}}),t._v(" "),r("div",{staticClass:"px-12 py-2",domProps:{textContent:t._s("All data (service, workflow, run, etc.) will be deleted.")}}),t._v(" "),r("div",{staticClass:"px-12 py-2 text-center",style:{fontSize:"1.4rem",color:t.$colors.red.darken4},domProps:{textContent:t._s("Are you sure to delete it?")}}),t._v(" "),r("div",{staticClass:"d-flex justify-end px-12 pt-4 pb-6"},[r("v-btn",{attrs:{color:t.$colors.red.darken4,outlined:""},on:{click:t.deleteData}},[r("v-icon",{staticClass:"mr-2"},[t._v("mdi-trash-can-outline")]),t._v("Delete\n        ")],1),t._v(" "),r("v-btn",{staticClass:"ml-4",attrs:{color:t.$colors.grey.darken4,outlined:""},on:{click:function(e){t.deleteDialogShow=!1}}},[r("v-icon",{staticClass:"mr-2"},[t._v("mdi-close")]),t._v("Cancel\n        ")],1)],1)])],1)],1)}),[],!1,null,"92282a9e",null);e.default=component.exports;d()(component,{VAppBar:m.a,VBtn:v.a,VCard:f.a,VDialog:h.a,VIcon:x.a,VList:_.a,VListItem:C.a,VListItemContent:k.a,VListItemIcon:w.a,VListItemTitle:k.b,VMenu:y.a,VSpacer:I.a,VToolbarTitle:S.a})},288:function(t,e,r){var content=r(303);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(80).default)("6f0fe40e",content,!0,{sourceMap:!1})},290:function(t,e,r){"use strict";r(280)},291:function(t,e,r){(e=r(79)(!1)).push([t.i,".v-list-item__icon[data-v-92282a9e]:first-child{margin-right:16px}",""]),t.exports=e},297:function(t,e,r){"use strict";r.r(e);r(37);var n=r(2),o=(r(298),r(299),r(300),r(301)),l=r(0).a.extend({components:{codemirror:o.codemirror},props:{runId:{type:String,required:!0}},data:function(){return{runInfoHeader:[{text:"Key",value:"key"},{text:"Value",value:"value"}]}},computed:{run:function(){return this.$store.getters["run/runFilteredById"](this.runId)},service:function(){var t=this.$store.getters["run/runFilteredById"](this.runId);return this.$store.getters["service/serviceFilteredById"](t.serviceId)},workflow:function(){var t=this.$store.getters["run/runFilteredById"](this.runId);return this.$store.getters["workflow/workflowFilteredById"](t.workflowId)},runInfoContent:function(){var t=this.$store.getters["run/runFilteredById"](this.runId);return[{key:"Service",value:""},{key:"Workflow",value:""},{key:"Workflow Type Version",value:"".concat(t.runLog.request.workflow_type," ").concat(t.runLog.request.workflow_type_version)},{key:"Workflow Engine",value:t.runLog.request.workflow_engine_name},{key:"Workflow Engine Parameters",value:t.runLog.request.workflow_engine_parameters},{key:"Workflow Attachment",value:t.runLog.request.workflow_attachment},{key:"Tags",value:t.runLog.request.tags}]}},methods:{getRunStateColor:function(t){return"UNKNOWN"===t?this.$colors.grey.darken1:"QUEUED"===t||"INITIALIZING"===t?this.$colors.lightBlue.darken1:"RUNNING"===t?this.$colors.indigo.darken1:"PAUSED"===t?this.$colors.lightBlue.darken1:"COMPLETE"===t?this.$colors.green.darken1:"EXECUTOR_ERROR"===t||"SYSTEM_ERROR"===t?this.$colors.red.darken1:"CANCELED"===t||"CANCELING"===t?this.$colors.amber.darken1:this.$colors.grey.darken1},reloadRunState:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("run/updateRun",t.runId);case 2:case"end":return e.stop()}}),e)})))()}}}),c=(r(302),r(56)),d=r(271),m=r.n(d),v=r(367),f=r(340),h=r(352),x=r(481),_=r(347),C=r(475),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{elevation:"8","max-width":"960"}},[r("div",{staticClass:"d-flex align-center px-6 pt-4"},[r("div",{staticClass:"card-header",domProps:{textContent:t._s(t.run.name)}}),t._v(" "),r("v-spacer"),t._v(" "),r("v-chip",{staticClass:"mr-4",attrs:{color:t.getRunStateColor(t.run.state),"text-color":"white"},domProps:{textContent:t._s(t.run.state)}}),t._v(" "),r("v-btn",{attrs:{color:t.$colors.grey.darken2,outlined:"",small:""},on:{click:t.reloadRunState}},[r("v-icon",[t._v("mdi-reload")])],1)],1),t._v(" "),r("v-data-table",{staticClass:"mx-12 my-2",attrs:{headers:t.runInfoHeader,items:t.runInfoContent,"disable-filtering":"","disable-pagination":"","disable-sort":"","hide-default-footer":"","hide-default-header":"","item-key":"key"},scopedSlots:t._u([{key:"item.value",fn:function(e){var n=e.item;return["Service"===n.key?r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"service",query:{id:t.service.id}}},domProps:{textContent:t._s(t.service.name)}}):"Workflow"===n.key?r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"workflow",query:{id:t.workflow.id}}},domProps:{textContent:t._s(t.workflow.name)}}):r("div",{domProps:{textContent:t._s(n.value)}})]}}],null,!0)}),t._v(" "),r("div",{staticClass:"d-flex flex-column"},[r("div",{staticClass:"px-10 pb-4",style:{fontSize:"1.2rem"},domProps:{textContent:t._s("Workflow Parameters")}}),t._v(" "),r("codemirror",{ref:"cmEditor",staticClass:"mx-12 elevation-2",attrs:{value:JSON.stringify(JSON.parse(t.run.runLog.request.workflow_params),null,2),options:{collapseIdentical:!1,lineNumbers:!0,mode:"text/javascript",readOnly:"nocursor",theme:"base16-light"}}}),t._v(" "),r("div",{staticClass:"pt-6"})],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VBtn:v.a,VCard:f.a,VChip:h.a,VDataTable:x.a,VIcon:_.a,VSpacer:C.a})},302:function(t,e,r){"use strict";r(288)},303:function(t,e,r){(e=r(79)(!1)).push([t.i,'.CodeMirror{height:400px!important;font-size:.9rem!important}.CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}',""]),t.exports=e},357:function(t,e,r){var content=r(448);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(80).default)("55193ec1",content,!0,{sourceMap:!1})},364:function(t,e,r){"use strict";r.r(e);r(298),r(299),r(300);var n=r(301),o=r(0).a.extend({components:{codemirror:n.codemirror},props:{runId:{type:String,required:!0}},data:function(){return{logInfoHeader:[{text:"Key",value:"key"},{text:"Value",value:"value"}]}},computed:{run:function(){return this.$store.getters["run/runFilteredById"](this.runId)},logInfoContent:function(){var t=this.$store.getters["run/runFilteredById"](this.runId);return[{key:"Command",value:t.runLog.run_log.cmd},{key:"Start Time",value:t.runLog.run_log.start_time},{key:"End Time",value:t.runLog.run_log.end_time},{key:"Exit Code",value:t.runLog.run_log.exit_code}]}}}),l=(r(447),r(56)),c=r(271),d=r.n(c),m=r(340),v=r(481),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{attrs:{elevation:"8","max-width":"960"}},[r("div",{staticClass:"card-header px-6 pt-4",domProps:{textContent:t._s("Log")}}),t._v(" "),r("v-data-table",{staticClass:"mx-12 my-2",attrs:{headers:t.logInfoHeader,items:t.logInfoContent,"disable-filtering":"","disable-pagination":"","disable-sort":"","hide-default-footer":"","hide-default-header":"","item-key":"key"}}),t._v(" "),r("div",{staticClass:"d-flex flex-column"},[r("div",{staticClass:"px-10 pb-4",style:{fontSize:"1.2rem"},domProps:{textContent:t._s("Stdout")}}),t._v(" "),r("codemirror",{ref:"cmEditor",staticClass:"mx-12 elevation-2",attrs:{value:t.run.runLog.run_log.stdout,options:{collapseIdentical:!1,lineNumbers:!0,readOnly:"nocursor",theme:"base16-light"}}}),t._v(" "),r("div",{staticClass:"pt-6"})],1),t._v(" "),r("div",{staticClass:"d-flex flex-column"},[r("div",{staticClass:"px-10 pb-4",style:{fontSize:"1.2rem"},domProps:{textContent:t._s("Stderr")}}),t._v(" "),r("codemirror",{ref:"cmEditor",staticClass:"mx-12 elevation-2",attrs:{value:t.run.runLog.run_log.stderr,options:{collapseIdentical:!1,lineNumbers:!0,mode:"text/javascript",readOnly:"nocursor",theme:"base16-light"}}}),t._v(" "),r("div",{staticClass:"pt-6"})],1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{VCard:m.a,VDataTable:v.a})},447:function(t,e,r){"use strict";r(357)},448:function(t,e,r){(e=r(79)(!1)).push([t.i,'.CodeMirror{height:400px!important;font-size:.9rem!important}.CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}',""]),t.exports=e},483:function(t,e,r){"use strict";r.r(e);r(37);var n=r(2),o=r(281),l=r(297),c=r(364),d=r(0).a.extend({components:{AppBar:o.default,InfoCard:l.default,LogCard:c.default},middleware:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,o=t.route,e.next=3,window.onNuxtReady(Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.dispatch("run/updateRun",o.params.runId);case 2:case"end":return t.stop()}}),t)}))));case 3:case"end":return e.stop()}}),e)})))()},computed:{existRunId:function(){return this.$store.getters["run/existId"](this.runId)},runId:function(){if(Object.prototype.hasOwnProperty.call(this.$route.query,"id")){var t=this.$route.query.id;return"string"==typeof t?t:""}return""}}}),m=r(56),v=r(271),f=r.n(v),h=r(476),x=r(488),_=r(477),component=Object(m.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("app-bar"),this._v(" "),e("v-main",{staticClass:"background"},[e("v-container",{attrs:{fluid:""}},[this.existRunId?[e("info-card",{staticClass:"mt-4 mx-auto",attrs:{"run-id":this.runId}}),this._v(" "),e("log-card",{staticClass:"mt-8 mx-auto mb-4",attrs:{"run-id":this.runId}})]:[this._v("Does not exist.")]],2)],1)],1)}),[],!1,null,null,null);e.default=component.exports;f()(component,{AppBar:r(281).default,InfoCard:r(297).default,LogCard:r(364).default}),f()(component,{VApp:h.a,VContainer:x.a,VMain:_.a})}}]);