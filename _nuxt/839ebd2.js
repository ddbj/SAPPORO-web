(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{280:function(e,t,r){var content=r(291);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(80).default)("092cfb3e",content,!0,{sourceMap:!1})},281:function(e,t,r){"use strict";r.r(t);r(37);var n=r(2),o=r(0).a.extend({data:function(){return{menuItems:[{title:"Import Data",icon:"mdi-application-import"},{title:"Export Data",icon:"mdi-application-export"},{title:"Delete Data",icon:"mdi-trash-can"}],deleteDialogShow:!1}},methods:{menuAction:function(title){"Import Data"===title?alert("Import Data"):"Export Data"===title?alert("Export Data"):"Delete Data"===title&&(this.deleteDialogShow=!0)},deleteData:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("service/clearServices");case 2:return t.next=4,e.$store.dispatch("workflow/clearWorkflows");case 4:return t.next=6,e.$store.dispatch("run/clearRuns");case 6:e.deleteDialogShow=!1;case 7:case"end":return t.stop()}}),t)})))()}}}),l=(r(290),r(56)),c=r(271),d=r.n(c),f=r(485),v=r(367),m=r(340),h=r(486),w=r(347),k=r(348),x=r(329),_=r(275),y=r(330),C=r(368),S=r(475),R=r(310),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app-bar",{attrs:{color:e.$colors.indigo.darken2,app:"",elevation:"8","hide-on-scroll":""}},[r("v-toolbar-title",[r("nuxt-link",{staticClass:"white--text text-decoration-none",attrs:{to:"/"}},[e._v("\n      SAPPORO\n    ")])],1),e._v(" "),r("v-spacer"),e._v(" "),r("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[r("v-btn",e._g({staticClass:"mr-2",attrs:{icon:""}},n),[r("v-icon",{attrs:{color:"white"}},[e._v("mdi-cog")])],1)]}}])},[e._v(" "),r("v-list",{staticClass:"app-bar-height-margin"},e._l(e.menuItems,(function(t){return r("v-list-item",{key:t.title,on:{click:function(r){return e.menuAction(t.title)}}},[r("v-list-item-icon",{staticClass:"ml-2"},[r("v-icon",{domProps:{textContent:e._s(t.icon)}})],1),e._v(" "),r("v-list-item-content",{staticClass:"mr-2"},[r("v-list-item-title",{domProps:{textContent:e._s(t.title)}})],1)],1)})),1)],1),e._v(" "),r("v-btn",{attrs:{href:"https://github.com/ddbj/SAPPORO-web",color:"white",outlined:""}},[e._v("\n    GitHub\n    "),r("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[e._v(" mdi-github ")])],1),e._v(" "),r("v-dialog",{attrs:{"overlay-opacity":"0.8",width:"600"},model:{value:e.deleteDialogShow,callback:function(t){e.deleteDialogShow=t},expression:"deleteDialogShow"}},[r("v-card",[r("div",{staticClass:"card-header pl-6 pt-4",domProps:{textContent:e._s("Delete Data")}}),e._v(" "),r("div",{staticClass:"px-12 py-2",domProps:{textContent:e._s("All data (service, workflow, run, etc.) will be deleted.")}}),e._v(" "),r("div",{staticClass:"px-12 py-2 text-center",style:{fontSize:"1.4rem",color:e.$colors.red.darken4},domProps:{textContent:e._s("Are you sure to delete it?")}}),e._v(" "),r("div",{staticClass:"d-flex justify-end px-12 pt-4 pb-6"},[r("v-btn",{attrs:{color:e.$colors.red.darken4,outlined:""},on:{click:e.deleteData}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-trash-can-outline")]),e._v("Delete\n        ")],1),e._v(" "),r("v-btn",{staticClass:"ml-4",attrs:{color:e.$colors.grey.darken4,outlined:""},on:{click:function(t){e.deleteDialogShow=!1}}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-close")]),e._v("Cancel\n        ")],1)],1)])],1)],1)}),[],!1,null,"92282a9e",null);t.default=component.exports;d()(component,{VAppBar:f.a,VBtn:v.a,VCard:m.a,VDialog:h.a,VIcon:w.a,VList:k.a,VListItem:x.a,VListItemContent:_.a,VListItemIcon:y.a,VListItemTitle:_.b,VMenu:C.a,VSpacer:S.a,VToolbarTitle:R.a})},282:function(e,t,r){"use strict";r.r(t);r(37);var n=r(2),o=(r(36),r(40),r(168),r(0).a.extend({props:{overleyOpacity:{type:Number,default:.8},width:{type:Number,default:600},dialogShow:{type:Boolean,default:!1,required:!0},modelType:{type:String,default:"service",validator:function(e){return["service","workflow","run"].includes(e)},required:!0},selectedItems:{type:Array,default:function(){return[]},required:!0}},computed:{firstCapitalizedModelType:function(){return this.modelType.charAt(0).toUpperCase()+this.modelType.slice(1)},confirmStatement:function(){return"service"===this.modelType?"Workflows and runs associated with these services will also be deleted.":"workflow"===this.modelType?"Runs associated with these workflows will also be deleted.":""}},methods:{deleteSelectedItems:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("".concat(e.modelType,"/delete").concat(e.firstCapitalizedModelType,"s"),e.selectedItems.map((function(e){return e.id})));case 2:e.$emit("clearSelected"),e.$emit("close");case 4:case"end":return t.stop()}}),t)})))()}}})),l=r(56),c=r(271),d=r.n(c),f=r(367),v=r(340),m=r(486),h=r(347),component=Object(l.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"overlay-opacity":e.overleyOpacity,value:e.dialogShow,width:e.width},on:{"click:outside":function(t){return e.$emit("close")}}},[r("v-card",[r("div",{staticClass:"card-header pl-6 pt-4",domProps:{textContent:e._s("Delete "+e.firstCapitalizedModelType)}}),e._v(" "),r("div",{staticClass:"px-12 py-2",domProps:{textContent:e._s("These "+e.modelType+"s will be deleted.")}}),e._v(" "),r("ul",{style:{paddingLeft:"96px",paddingRight:"96px"}},e._l(e.selectedItems,(function(t,i){return r("li",{key:i,domProps:{textContent:e._s(t.name)}})})),0),e._v(" "),["service","workflow"].includes(e.modelType)?r("div",{staticClass:"px-12 py-2",domProps:{textContent:e._s(e.confirmStatement)}}):e._e(),e._v(" "),r("div",{staticClass:"text-center",style:{fontSize:"1.4rem",color:e.$colors.red.darken4},domProps:{textContent:e._s("Are you sure to delete it?")}}),e._v(" "),r("div",{staticClass:"d-flex justify-end px-12 pt-4 pb-6"},[r("v-btn",{attrs:{color:e.$colors.red.darken4,outlined:""},on:{click:e.deleteSelectedItems}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-trash-can-outline")]),e._v("Delete\n      ")],1),e._v(" "),r("v-btn",{staticClass:"ml-4",attrs:{color:e.$colors.grey.darken4,outlined:""},on:{click:function(t){return e.$emit("close")}}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-close")]),e._v("Cancel\n      ")],1)],1)])],1)}),[],!1,null,null,null);t.default=component.exports;d()(component,{VBtn:f.a,VCard:v.a,VDialog:m.a,VIcon:h.a})},288:function(e,t,r){var content=r(303);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(80).default)("6f0fe40e",content,!0,{sourceMap:!1})},290:function(e,t,r){"use strict";r(280)},291:function(e,t,r){(t=r(79)(!1)).push([e.i,".v-list-item__icon[data-v-92282a9e]:first-child{margin-right:16px}",""]),e.exports=t},297:function(e,t,r){"use strict";r.r(t);r(37);var n=r(2),o=(r(298),r(299),r(300),r(301)),l=r(0).a.extend({components:{codemirror:o.codemirror},props:{runId:{type:String,required:!0}},data:function(){return{runInfoHeader:[{text:"Key",value:"key"},{text:"Value",value:"value"}]}},computed:{run:function(){return this.$store.getters["run/runFilteredById"](this.runId)},service:function(){var e=this.$store.getters["run/runFilteredById"](this.runId);return this.$store.getters["service/serviceFilteredById"](e.serviceId)},workflow:function(){var e=this.$store.getters["run/runFilteredById"](this.runId);return this.$store.getters["workflow/workflowFilteredById"](e.workflowId)},runInfoContent:function(){var e=this.$store.getters["run/runFilteredById"](this.runId);return[{key:"Service",value:""},{key:"Workflow",value:""},{key:"Workflow Type Version",value:"".concat(e.runLog.request.workflow_type," ").concat(e.runLog.request.workflow_type_version)},{key:"Workflow Engine",value:e.runLog.request.workflow_engine_name},{key:"Workflow Engine Parameters",value:e.runLog.request.workflow_engine_parameters},{key:"Workflow Attachment",value:e.runLog.request.workflow_attachment},{key:"Tags",value:e.runLog.request.tags}]}},methods:{getRunStateColor:function(e){return"UNKNOWN"===e?this.$colors.grey.darken1:"QUEUED"===e||"INITIALIZING"===e?this.$colors.lightBlue.darken1:"RUNNING"===e?this.$colors.indigo.darken1:"PAUSED"===e?this.$colors.lightBlue.darken1:"COMPLETE"===e?this.$colors.green.darken1:"EXECUTOR_ERROR"===e||"SYSTEM_ERROR"===e?this.$colors.red.darken1:"CANCELED"===e||"CANCELING"===e?this.$colors.amber.darken1:this.$colors.grey.darken1},reloadRunState:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("run/updateRun",e.runId);case 2:case"end":return t.stop()}}),t)})))()}}}),c=(r(302),r(56)),d=r(271),f=r.n(d),v=r(367),m=r(340),h=r(352),w=r(481),k=r(347),x=r(475),component=Object(c.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{elevation:"8","max-width":"960"}},[r("div",{staticClass:"d-flex align-center px-6 pt-4"},[r("div",{staticClass:"card-header",domProps:{textContent:e._s(e.run.name)}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-chip",{staticClass:"mr-4",attrs:{color:e.getRunStateColor(e.run.state),"text-color":"white"},domProps:{textContent:e._s(e.run.state)}}),e._v(" "),r("v-btn",{attrs:{color:e.$colors.grey.darken2,outlined:"",small:""},on:{click:e.reloadRunState}},[r("v-icon",[e._v("mdi-reload")])],1)],1),e._v(" "),r("v-data-table",{staticClass:"mx-12 my-2",attrs:{headers:e.runInfoHeader,items:e.runInfoContent,"disable-filtering":"","disable-pagination":"","disable-sort":"","hide-default-footer":"","hide-default-header":"","item-key":"key"},scopedSlots:e._u([{key:"item.value",fn:function(t){var n=t.item;return["Service"===n.key?r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"service",query:{id:e.service.id}}},domProps:{textContent:e._s(e.service.name)}}):"Workflow"===n.key?r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"workflow",query:{id:e.workflow.id}}},domProps:{textContent:e._s(e.workflow.name)}}):r("div",{domProps:{textContent:e._s(n.value)}})]}}],null,!0)}),e._v(" "),r("div",{staticClass:"d-flex flex-column"},[r("div",{staticClass:"px-10 pb-4",style:{fontSize:"1.2rem"},domProps:{textContent:e._s("Workflow Parameters")}}),e._v(" "),r("codemirror",{ref:"cmEditor",staticClass:"mx-12 elevation-2",attrs:{value:JSON.stringify(JSON.parse(e.run.runLog.request.workflow_params),null,2),options:{collapseIdentical:!1,lineNumbers:!0,mode:"text/javascript",readOnly:"nocursor",theme:"base16-light"}}}),e._v(" "),r("div",{staticClass:"pt-6"})],1)],1)}),[],!1,null,null,null);t.default=component.exports;f()(component,{VBtn:v.a,VCard:m.a,VChip:h.a,VDataTable:w.a,VIcon:k.a,VSpacer:x.a})},302:function(e,t,r){"use strict";r(288)},303:function(e,t,r){(t=r(79)(!1)).push([e.i,'.CodeMirror{height:400px!important;font-size:.9rem!important}.CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}',""]),e.exports=t},308:function(e,t,r){"use strict";r.r(t);var n=r(0).a.extend({props:{content:{type:String,default:"WES services",required:!0}}}),o=r(56),component=Object(o.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"info--text",style:{fontSize:"1rem",paddingLeft:"60px"}},[t("span",{style:{color:this.$colors.red.darken4,textDecorationLine:"underline"},domProps:{textContent:this._s("NO "+this.content+" are registered.")}}),this._v("\n  Click\n  "),t("span",{style:{color:this.$colors.indigo.darken4},domProps:{textContent:this._s("RESISTER")}}),this._v("\n  button.\n")])}),[],!1,null,null,null);t.default=component.exports},311:function(e,t,r){"use strict";r.r(t);r(37);var n=r(2),o=r(0),l=r(282),c=r(289),d=r.n(c),f=o.a.extend({components:{DeleteDialog:l.default},filters:{formatDate:function(e){return d()(e).format("YYYY-MM-DD hh:mm:ss")}},data:function(){return{runHeaders:[{text:"Name",value:"name"},{text:"Service",value:"service"},{text:"Workflow",value:"workflow"},{text:"Added Date",value:"addedDate"},{text:"State",value:"state"}],selectedRuns:[],deleteDialogShow:!1}},computed:{runs:function(){return this.$store.getters["run/runsList"]}},methods:{getRunStateColor:function(e){return"UNKNOWN"===e?this.$colors.grey.darken1:"QUEUED"===e||"INITIALIZING"===e?this.$colors.lightBlue.darken1:"RUNNING"===e?this.$colors.indigo.darken1:"PAUSED"===e?this.$colors.lightBlue.darken1:"COMPLETE"===e?this.$colors.green.darken1:"EXECUTOR_ERROR"===e||"SYSTEM_ERROR"===e?this.$colors.red.darken1:"CANCELED"===e||"CANCELING"===e?this.$colors.amber.darken1:this.$colors.grey.darken1},reloadRunState:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("run/updateAllRunsState");case 2:case"end":return t.stop()}}),t)})))()}}}),v=r(56),m=r(271),h=r.n(m),w=r(367),k=r(340),x=r(352),_=r(481),y=r(347),C=r(475),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{elevation:"8","max-width":"960"}},[r("div",{staticClass:"d-flex align-center px-6 pt-4"},[r("div",{staticClass:"card-header",domProps:{textContent:e._s("Runs")}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:e.$colors.grey.darken2,disabled:!e.runs.length,outlined:"",small:""},on:{click:e.reloadRunState}},[r("v-icon",[e._v("mdi-reload")])],1)],1),e._v(" "),e.runs.length?r("v-data-table",{staticClass:"mx-6 my-2",attrs:{headers:e.runHeaders,"items-per-page":Number(10),items:e.runs,"calculate-widths":"","item-key":"id","show-select":""},scopedSlots:e._u([{key:"item.name",fn:function(t){var n=t.item;return[r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"run",query:{id:n.id}}},domProps:{textContent:e._s(n.name)}})]}},{key:"item.service",fn:function(t){var n=t.item;return[r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"service",query:{id:n.serviceId}}},domProps:{textContent:e._s(e.$store.getters["service/idToName"](n.serviceId))}})]}},{key:"item.workflow",fn:function(t){var n=t.item;return[r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"workflow",query:{id:n.workflowId}}},domProps:{textContent:e._s(e.$store.getters["workflow/idToName"](n.workflowId))}})]}},{key:"item.addedDate",fn:function(t){var r=t.item;return[e._v("\n      "+e._s(e._f("formatDate")(r.addedDate))+"\n    ")]}},{key:"item.state",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{color:e.getRunStateColor(n.state),"text-color":"white"},domProps:{textContent:e._s(n.state)}})]}}],null,!0),model:{value:e.selectedRuns,callback:function(t){e.selectedRuns=t},expression:"selectedRuns"}}):r("div",{staticClass:"my-2"},[r("p",{staticClass:"info--text",style:{fontSize:"1rem",paddingLeft:"60px"},domProps:{textContent:e._s("No executed runs exist.")}})]),e._v(" "),r("div",{staticClass:"d-flex justify-end pb-6 pr-6"},[r("v-btn",{attrs:{color:this.$colors.red.darken4,disabled:!e.selectedRuns.length,outlined:""},on:{click:function(t){t.stopPropagation(),e.deleteDialogShow=!0}}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-trash-can-outline")]),e._v("Delete\n    ")],1)],1),e._v(" "),r("delete-dialog",{attrs:{"dialog-show":e.deleteDialogShow,"model-type":"run","selected-items":e.selectedRuns},on:{close:function(t){e.deleteDialogShow=!1}}})],1)}),[],!1,null,null,null);t.default=component.exports;h()(component,{DeleteDialog:r(282).default}),h()(component,{VBtn:w.a,VCard:k.a,VChip:x.a,VDataTable:_.a,VIcon:y.a,VSpacer:C.a})},312:function(e,t,r){"use strict";r.r(t);r(37);var n=r(2),o=(r(168),r(0)),l=r(114),c=o.a.extend({props:{overlayOpacity:{type:Number,default:.8},dialogShow:{type:Boolean,default:!1,required:!0},width:{type:Number,default:600}},data:function(){return{registerValid:!1,inputtedName:"",inputtedEndpoint:"",nameRules:[function(e){return!!e||"Name is required."}],endpointRules:[function(e){return!!e||"Endpoint is required."}]}},created:function(){var e=this;this.nameRules.push((function(t){return!e.$store.getters["service/existName"](t)||"Name ".concat(t," already exists.")})),this.endpointRules.push((function(e){return Object(l.c)(e)||"Endpoint ".concat(e," does not valid.")}))},methods:{submitService:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=4;break}return t.next=4,e.$store.dispatch("service/submitService",{name:e.inputtedName,endpoint:e.inputtedEndpoint}).then((function(t){e.$refs.form.reset(),e.$router.push({name:"service",query:{id:t}})})).catch((function(t){e.$refs.form.reset(),e.$refs.form.resetValidation(),e.$emit("error"),e.$emit("close"),console.error(t)}));case 4:case"end":return t.stop()}}),t)})))()}}}),d=r(56),f=r(271),v=r.n(f),m=r(367),h=r(340),w=r(486),k=r(358),x=r(347),_=r(313),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"overlay-opacity":e.overlayOpacity,value:e.dialogShow,width:e.width},on:{"click:outside":function(t){return e.$emit("close")}}},[r("v-card",[r("div",{staticClass:"card-header pl-6 pt-4",domProps:{textContent:e._s("Register Service")}}),e._v(" "),r("v-form",{ref:"form",staticClass:"px-12 pt-2",attrs:{"lazy-validation":""},model:{value:e.registerValid,callback:function(t){e.registerValid=t},expression:"registerValid"}},[r("v-text-field",{attrs:{rules:e.nameRules,clearable:"",label:"Name"},model:{value:e.inputtedName,callback:function(t){e.inputtedName=t},expression:"inputtedName"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.endpointRules,clearable:"",label:"Endpoint"},model:{value:e.inputtedEndpoint,callback:function(t){e.inputtedEndpoint=t},expression:"inputtedEndpoint"}})],1),e._v(" "),r("div",{staticClass:"d-flex justify-end px-12 pb-6"},[r("v-btn",{attrs:{color:e.$colors.indigo.darken4,disabled:!e.registerValid,outlined:""},on:{click:e.submitService}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-arrow-up")]),e._v("Submit\n      ")],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports;v()(component,{VBtn:m.a,VCard:h.a,VDialog:w.a,VForm:k.a,VIcon:x.a,VTextField:_.a})},362:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(282),l=r(308),c=(r(37),r(2)),d=(r(168),r(114)),f=n.a.extend({props:{overlayOpacity:{type:Number,default:.8},dialogShow:{type:Boolean,default:!1,required:!0},width:{type:Number,default:600},serviceId:{type:String,required:!0}},data:function(){return{registerValid:!1,inputtedName:"",inputtedWorkflowUrl:"",inputtedWorkflowFile:void 0,nameRules:[function(e){return!!e||"Name is required."}],urlRules:[],fileRules:[]}},watch:{inputtedWorkflowUrl:function(){this.$refs.form.validate()},inputtedWorkflowFile:function(){this.$refs.form.validate()}},created:function(){var e=this;this.nameRules.push((function(t){return!e.$store.getters["workflow/existName"](t)||"Name ".concat(t," already exists.")})),this.urlRules.push((function(t){return e.orUrlFile()||"Please enter either the URL or File"})),this.urlRules.push((function(e){return!e||Object(d.c)(e)||"URL ".concat(e," does not valid.")})),this.fileRules.push((function(t){return e.orUrlFile()||"Please enter either the URL or File"}))},methods:{orUrlFile:function(){return!(""===this.inputtedWorkflowUrl&&void 0===this.inputtedWorkflowFile||""!==this.inputtedWorkflowUrl&&void 0!==this.inputtedWorkflowFile)},submitWorkflow:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=4;break}return t.next=4,e.$store.dispatch("workflow/submitWorkflow",{serviceId:e.serviceId,name:e.inputtedName,url:e.inputtedWorkflowUrl,file:e.inputtedWorkflowFile}).then((function(t){e.$refs.form.reset(),e.$router.push({name:"workflow",query:{id:t}})})).catch((function(t){e.$emit("error"),console.error(t)}));case 4:case"end":return t.stop()}}),t)})))()}}}),v=r(56),m=r(271),h=r.n(m),w=r(367),k=r(340),x=r(486),_=r(478),y=r(358),C=r(347),S=r(313),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{"overlay-opacity":e.overlayOpacity,value:e.dialogShow,width:e.width},on:{"click:outside":function(t){return e.$emit("close")}}},[r("v-card",[r("div",{staticClass:"card-header pl-6 pt-4",domProps:{textContent:e._s("Register Workflow")}}),e._v(" "),r("v-form",{ref:"form",staticClass:"px-12 py-2",attrs:{"lazy-validation":""},model:{value:e.registerValid,callback:function(t){e.registerValid=t},expression:"registerValid"}},[r("v-text-field",{attrs:{rules:e.nameRules,clearable:"",label:"Name"},model:{value:e.inputtedName,callback:function(t){e.inputtedName=t},expression:"inputtedName"}}),e._v(" "),r("v-text-field",{attrs:{rules:e.urlRules,clearable:"",label:"URL"},model:{value:e.inputtedWorkflowUrl,callback:function(t){e.inputtedWorkflowUrl=t},expression:"inputtedWorkflowUrl"}}),e._v(" "),r("div",{staticClass:"text-center info--text",domProps:{textContent:e._s("OR")}}),e._v(" "),r("v-file-input",{attrs:{rules:e.fileRules,clearable:"",label:"File","show-size":""},model:{value:e.inputtedWorkflowFile,callback:function(t){e.inputtedWorkflowFile=t},expression:"inputtedWorkflowFile"}})],1),e._v(" "),r("div",{staticClass:"d-flex justify-end px-12 pb-6"},[r("v-btn",{attrs:{color:this.$colors.indigo.darken4,disabled:!e.registerValid,outlined:""},on:{click:e.submitWorkflow}},[r("v-icon",{staticClass:"mr-1"},[e._v("mdi-arrow-up")]),e._v("Submit\n      ")],1)],1)],1)],1)}),[],!1,null,null,null),R=component.exports;h()(component,{VBtn:w.a,VCard:k.a,VDialog:x.a,VFileInput:_.a,VForm:y.a,VIcon:C.a,VTextField:S.a});var $=r(289),D=r.n($),I=n.a.extend({components:{DeleteDialog:o.default,NotExistMessage:l.default,RegisterDialog:R},filters:{formatDate:function(e){return D()(e).format("YYYY-MM-DD hh:mm:ss")}},props:{serviceId:{type:String,required:!0}},data:function(){return{workflowHeaders:[{text:"Name",value:"name"},{text:"Type",value:"type"},{text:"Added Date",value:"addedDate"}],selectedWorkflows:[],registerDialogShow:!1,deleteDialogShow:!1,errorSnackbar:!1}},computed:{service:function(){return this.$store.getters["service/serviceFilteredById"](this.serviceId)},workflows:function(){return this.$store.getters["workflow/workflowsList"]}}}),E=r(481),N=r(359),V=Object(v.a)(I,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{elevation:"8","max-width":"960"}},[r("div",{staticClass:"card-header pl-6 pt-4",domProps:{textContent:e._s("Workflows")}}),e._v(" "),e.workflows.length?r("v-data-table",{staticClass:"mx-6 my-2",attrs:{headers:e.workflowHeaders,"items-per-page":Number(5),items:e.workflows,"calculate-widths":"","item-key":"id","show-select":""},scopedSlots:e._u([{key:"item.name",fn:function(t){var n=t.item;return[r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"workflow",query:{id:n.id}}},domProps:{textContent:e._s(n.name)}})]}},{key:"item.type",fn:function(t){var r=t.item;return[e._v("\n      "+e._s(r.type)+" "+e._s(r.version)+"\n    ")]}},{key:"item.addedDate",fn:function(t){var r=t.item;return[e._v("\n      "+e._s(e._f("formatDate")(r.addedDate))+"\n    ")]}}],null,!0),model:{value:e.selectedWorkflows,callback:function(t){e.selectedWorkflows=t},expression:"selectedWorkflows"}}):r("div",{staticClass:"my-2"},[r("not-exist-message",{attrs:{content:"workflows"}})],1),e._v(" "),r("div",{staticClass:"d-flex justify-end pb-6 pr-6"},[r("v-btn",{staticClass:"mr-4",attrs:{color:e.$colors.indigo.darken4,outlined:""},on:{click:function(t){t.stopPropagation(),e.registerDialogShow=!0}}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-sticker-plus-outline")]),e._v("Register\n    ")],1),e._v(" "),r("v-btn",{attrs:{color:e.$colors.red.darken4,disabled:!e.selectedWorkflows.length,outlined:""},on:{click:function(t){t.stopPropagation(),e.deleteDialogShow=!0}}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-trash-can-outline")]),e._v("Delete\n    ")],1)],1),e._v(" "),r("register-dialog",{attrs:{"dialog-show":e.registerDialogShow,"service-id":e.serviceId},on:{close:function(t){e.registerDialogShow=!1},error:function(t){e.errorSnackbar=!0}}}),e._v(" "),r("delete-dialog",{attrs:{"dialog-show":e.deleteDialogShow,"model-type":"workflow","selected-items":e.selectedWorkflows},on:{clearSelected:function(t){e.selectedWorkflows=[]},close:function(t){e.deleteDialogShow=!1}}}),e._v(" "),r("v-snackbar",{attrs:{color:e.$colors.red.lighten1,elevation:"8",top:""},model:{value:e.errorSnackbar,callback:function(t){e.errorSnackbar=t},expression:"errorSnackbar"}},[e._v("\n    Error!! There's something problem with the values you inputted.\n  ")])],1)}),[],!1,null,null,null);t.default=V.exports;h()(V,{NotExistMessage:r(308).default,RegisterDialog:r(312).default,DeleteDialog:r(282).default}),h()(V,{VBtn:w.a,VCard:k.a,VDataTable:E.a,VIcon:C.a,VSnackbar:N.a})},480:function(e,t,r){"use strict";r.r(t);r(37);var n=r(2),o=r(114),l=r(281),c=r(16),d=(r(12),r(3),r(120),r(0)),f=d.a.extend({props:{serviceId:{type:String,required:!0}},data:function(){return{workflowEngineHeaders:[{text:"Name",value:"name"},{text:"Version",value:"version"}],workflowLanguageHeaders:[{text:"Name",value:"name"},{text:"Versions",value:"versions"}]}},computed:{service:function(){return this.$store.getters["service/serviceFilteredById"](this.serviceId)},workflowEngines:function(){return this.$store.getters["service/workflowEngines"](this.serviceId)},workflowLanguages:function(){return Object.entries(this.service.serviceInfo.workflow_type_versions).map((function(e){var t=Object(c.a)(e,2);return{name:t[0],versions:t[1].workflow_type_version}}))}},methods:{getServiceStateColor:function(e){return"Available"===e?this.$colors.green.darken1:"Disconnect"===e?this.$colors.red.darken1:this.$colors.grey.darken1},reloadServiceState:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("service/updateServiceState",e.serviceId);case 2:case"end":return t.stop()}}),t)})))()}}}),v=r(56),m=r(271),h=r.n(m),w=r(367),k=r(340),x=r(352),_=r(481),y=r(347),C=r(475),component=Object(v.a)(f,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.service?r("v-card",{attrs:{elevation:"8","max-width":"960"}},[r("div",{staticClass:"d-flex align-center px-6 pt-4"},[r("div",{staticClass:"card-header",domProps:{textContent:e._s(e.service.name)}}),e._v(" "),e._l(e.service.supported_wes_versions,(function(t,i){return r("v-chip",{key:i,class:[0===i?"ml-4":"ml-2"],attrs:{color:e.$colors.indigo.lighten2,label:"",small:"","text-color":"white"},domProps:{textContent:e._s("WES "+t)}})})),e._v(" "),r("v-spacer"),e._v(" "),r("v-chip",{staticClass:"mr-4",attrs:{color:e.getServiceStateColor(e.service.state),"text-color":"white"},domProps:{textContent:e._s(e.service.state)}}),e._v(" "),r("v-btn",{attrs:{color:e.$colors.grey.darken2,outlined:"",small:""},on:{click:e.reloadServiceState}},[r("v-icon",[e._v("mdi-reload")])],1)],2),e._v(" "),r("div",{staticClass:"px-10",style:{color:e.$colors.grey.darken4,fontSize:"0.9rem",fontWeight:"300"},domProps:{textContent:e._s(e.service.endpoint)}}),e._v(" "),r("div",{staticClass:"d-flex px-10 pt-2 justify-space-between pb-6"},[e.workflowLanguages.length?r("div",{staticClass:"d-flex flex-column",style:{width:"47%"}},[r("div",{style:{fontSize:"1.2rem"},domProps:{textContent:e._s("Workflow Languages")}}),e._v(" "),r("v-data-table",{staticClass:"pl-2",attrs:{headers:e.workflowLanguageHeaders,items:e.workflowLanguages,dense:"","disable-filtering":"","disable-pagination":"","disable-sort":"","hide-default-footer":"","item-key":"name"},scopedSlots:e._u([{key:"item.versions",fn:function(t){var r=t.item;return[e._v("\n          "+e._s(r.versions.join(", "))+"\n        ")]}}],null,!0)})],1):e._e(),e._v(" "),e.workflowEngines.length?r("div",{staticClass:"d-flex flex-column",style:{width:"47%"}},[r("div",{style:{fontSize:"1.2rem"},domProps:{textContent:e._s("Workflow Engines")}}),e._v(" "),r("v-data-table",{staticClass:"pl-2",attrs:{headers:e.workflowEngineHeaders,items:e.workflowEngines,dense:"","disable-filtering":"","disable-pagination":"","disable-sort":"","hide-default-footer":"","item-key":"name"}})],1):e._e()])]):e._e()}),[],!1,null,null,null),S=component.exports;h()(component,{VBtn:w.a,VCard:k.a,VChip:x.a,VDataTable:_.a,VIcon:y.a,VSpacer:C.a});var R=r(282),$=r(289),D=r.n($),I=d.a.extend({components:{DeleteDialog:R.default},filters:{formatDate:function(e){return D()(e).format("YYYY-MM-DD hh:mm:ss")}},props:{serviceId:{type:String,required:!0}},data:function(){return{runHeaders:[{text:"Name",value:"name"},{text:"Workflow",value:"workflow"},{text:"Added Date",value:"addedDate"},{text:"State",value:"state"}],selectedRuns:[],deleteDialogShow:!1}},computed:{runs:function(){return this.$store.getters["run/runsFilteredByServiceId"](this.serviceId)}},methods:{getRunStateColor:function(e){return"UNKNOWN"===e?this.$colors.grey.darken1:"QUEUED"===e||"INITIALIZING"===e?this.$colors.lightBlue.darken1:"RUNNING"===e?this.$colors.indigo.darken1:"PAUSED"===e?this.$colors.lightBlue.darken1:"COMPLETE"===e?this.$colors.green.darken1:"EXECUTOR_ERROR"===e||"SYSTEM_ERROR"===e?this.$colors.red.darken1:"CANCELED"===e||"CANCELING"===e?this.$colors.amber.darken1:this.$colors.grey.darken1},reloadRunState:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("run/updateAllRunsStateByService",e.serviceId);case 2:case"end":return t.stop()}}),t)})))()}}}),E=Object(v.a)(I,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{elevation:"8","max-width":"960"}},[r("div",{staticClass:"d-flex align-center px-6 pt-4"},[r("div",{staticClass:"card-header",domProps:{textContent:e._s("Runs")}}),e._v(" "),r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:e.$colors.grey.darken2,disabled:!e.runs.length,outlined:"",small:""},on:{click:e.reloadRunState}},[r("v-icon",[e._v("mdi-reload")])],1)],1),e._v(" "),e.runs.length?r("v-data-table",{staticClass:"mx-6 my-2",attrs:{headers:e.runHeaders,"items-per-page":Number(10),items:e.runs,"calculate-widths":"","item-key":"id","show-select":""},scopedSlots:e._u([{key:"item.name",fn:function(t){var n=t.item;return[r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"run",query:{id:n.id}}},domProps:{textContent:e._s(n.name)}})]}},{key:"item.service",fn:function(t){var n=t.item;return[r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"service",query:{id:n.serviceId}}},domProps:{textContent:e._s(e.$store.getters["service/idToName"](n.serviceId))}})]}},{key:"item.workflow",fn:function(t){var n=t.item;return[r("nuxt-link",{staticClass:"text-decoration-none",attrs:{to:{name:"workflow",query:{id:n.workflowId}}},domProps:{textContent:e._s(e.$store.getters["workflow/idToName"](n.workflowId))}})]}},{key:"item.addedDate",fn:function(t){var r=t.item;return[e._v("\n      "+e._s(e._f("formatDate")(r.addedDate))+"\n    ")]}},{key:"item.state",fn:function(t){var n=t.item;return[r("v-chip",{attrs:{color:e.getRunStateColor(n.state),"text-color":"white"},domProps:{textContent:e._s(n.state)}})]}}],null,!0),model:{value:e.selectedRuns,callback:function(t){e.selectedRuns=t},expression:"selectedRuns"}}):r("div",{staticClass:"my-2"},[r("p",{staticClass:"info--text",style:{fontSize:"1rem",paddingLeft:"60px"},domProps:{textContent:e._s("No executed runs exist.")}})]),e._v(" "),r("div",{staticClass:"d-flex justify-end pb-6 pr-6"},[r("v-btn",{attrs:{color:this.$colors.red.darken4,disabled:!e.selectedRuns.length,outlined:""},on:{click:function(t){t.stopPropagation(),e.deleteDialogShow=!0}}},[r("v-icon",{staticClass:"mr-2"},[e._v("mdi-trash-can-outline")]),e._v("Delete\n    ")],1)],1),e._v(" "),r("delete-dialog",{attrs:{"dialog-show":e.deleteDialogShow,"model-type":"run","selected-items":e.selectedRuns},on:{close:function(t){e.deleteDialogShow=!1}}})],1)}),[],!1,null,null,null),N=E.exports;h()(E,{DeleteDialog:r(282).default}),h()(E,{VBtn:w.a,VCard:k.a,VChip:x.a,VDataTable:_.a,VIcon:y.a,VSpacer:C.a});var V=r(362),P=d.a.extend({components:{AppBar:l.default,InfoCard:S,RunCard:N,WorkflowCard:V.default},middleware:function(e){return Object(n.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.store,o=e.route,t.next=3,window.onNuxtReady(Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.dispatch("service/updateServiceState",o.query.id);case 2:return e.next=4,r.dispatch("run/updateAllRunsStateByService",o.query.id);case 4:case"end":return e.stop()}}),e)}))));case 3:case"end":return t.stop()}}),t)})))()},computed:{existServiceId:function(){var e=Object(o.a)(this.$route)||"";return console.log(e),this.$store.getters["service/existId"](e)},serviceId:function(){var e=Object(o.a)(this.$route)||"";return e}}}),O=r(476),W=r(488),T=r(477),L=Object(v.a)(P,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("app-bar"),e._v(" "),r("v-main",{staticClass:"background"},[r("v-container",{attrs:{fluid:""}},[e.existServiceId?[r("info-card",{staticClass:"mt-4 mx-auto",attrs:{"service-id":e.serviceId}}),e._v(" "),r("workflow-card",{staticClass:"mt-8 mx-auto",attrs:{"service-id":e.serviceId}}),e._v(" "),r("run-card",{staticClass:"mt-8 mx-auto mb-4",attrs:{"service-id":e.serviceId}})]:[e._v("Does not exist.")]],2)],1)],1)}),[],!1,null,null,null);t.default=L.exports;h()(L,{AppBar:r(281).default,InfoCard:r(297).default,WorkflowCard:r(362).default,RunCard:r(311).default}),h()(L,{VApp:O.a,VContainer:W.a,VMain:T.a})}}]);